<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé¨ –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º - Movie Collection</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üé¨</text></svg>">
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-film"></i>
                <span>Movie Collection</span>
            </div>
            <div class="nav-links">
                <a href="/" class="nav-link">
                    <i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è
                </a>
                <a href="/add" class="nav-link active">
                    <i class="fas fa-plus-circle"></i> –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º
                </a>
                <a href="/api/movies" class="nav-link" target="_blank">
                    <i class="fas fa-code"></i> API
                </a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="form-container fade-in">
            <h1><i class="fas fa-plus-circle"></i> –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ñ–∏–ª—å–º</h1>
            <p class="subtitle">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∏–ª—å–º–µ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é</p>
            
            <!-- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ -->
            <div id="message" class="alert" style="display: none;"></div>
            
            <form id="movieForm" class="card">
                <div class="form-row">
                    <div class="form-group">
                        <label for="title"><i class="fas fa-heading"></i> –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ *</label>
                        <input type="text" id="title" name="title" required 
                               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä">
                        <small class="form-hint">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ, –º–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="director"><i class="fas fa-user-tie"></i> –†–µ–∂–∏—Å—Å–µ—Ä *</label>
                        <input type="text" id="director" name="director" required 
                               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö—Ä–∏—Å—Ç–æ—Ñ–µ—Ä –ù–æ–ª–∞–Ω">
                        <small class="form-hint">–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</small>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="year"><i class="fas fa-calendar-alt"></i> –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ *</label>
                        <input type="number" id="year" name="year" required 
                               min="1888" max="2025" value="2024"
                               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 2014">
                        <small class="form-hint">–û—Ç 1888 –¥–æ 2025</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="rating"><i class="fas fa-star"></i> –†–µ–π—Ç–∏–Ω–≥ *</label>
                        <div class="rating-input">
                            <input type="range" id="rating" name="rating" 
                                   min="0" max="10" step="0.1" value="7.5"
                                   oninput="updateRatingDisplay(this.value)">
                            <div class="rating-display">
                                <span id="ratingValue">7.5</span>/10
                                <div class="stars">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <small class="form-hint">–û—Ç 0 –¥–æ 10</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="genre"><i class="fas fa-theater-masks"></i> –ñ–∞–Ω—Ä *</label>
                    <div class="genre-selector">
                        <select id="genre" name="genre" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∂–∞–Ω—Ä...</option>
                            <option value="–î—Ä–∞–º–∞">–î—Ä–∞–º–∞</option>
                            <option value="–ë–æ–µ–≤–∏–∫">–ë–æ–µ–≤–∏–∫</option>
                            <option value="–ö–æ–º–µ–¥–∏—è">–ö–æ–º–µ–¥–∏—è</option>
                            <option value="–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞">–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞</option>
                            <option value="–§—ç–Ω—Ç–µ–∑–∏">–§—ç–Ω—Ç–µ–∑–∏</option>
                            <option value="–¢—Ä–∏–ª–ª–µ—Ä">–¢—Ä–∏–ª–ª–µ—Ä</option>
                            <option value="–£–∂–∞—Å—ã">–£–∂–∞—Å—ã</option>
                            <option value="–ú–µ–ª–æ–¥—Ä–∞–º–∞">–ú–µ–ª–æ–¥—Ä–∞–º–∞</option>
                            <option value="–î–µ—Ç–µ–∫—Ç–∏–≤">–î–µ—Ç–µ–∫—Ç–∏–≤</option>
                            <option value="–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è">–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è</option>
                            <option value="–ê–Ω–∏–º–∞—Ü–∏—è">–ê–Ω–∏–º–∞—Ü–∏—è</option>
                            <option value="–ë–∏–æ–≥—Ä–∞—Ñ–∏—è">–ë–∏–æ–≥—Ä–∞—Ñ–∏—è</option>
                            <option value="–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π">–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π</option>
                            <option value="–î–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π">–î–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π</option>
                            <option value="–ú—é–∑–∏–∫–ª">–ú—é–∑–∏–∫–ª</option>
                        </select>
                        <input type="text" id="customGenre" name="customGenre" 
                               placeholder="–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –∂–∞–Ω—Ä" style="display: none;">
                        <button type="button" class="btn btn-secondary btn-small" 
                                onclick="toggleCustomGenre()">
                            <i class="fas fa-edit"></i> –°–≤–æ–π –∂–∞–Ω—Ä
                        </button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="description"><i class="fas fa-align-left"></i> –û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="description" name="description" rows="4" 
                              placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—é–∂–µ—Ç–∞..."></textarea>
                    <small class="form-hint">–ú–∞–∫—Å–∏–º—É–º 500 —Å–∏–º–≤–æ–ª–æ–≤</small>
                    <div class="char-count">
                        <span id="charCount">0</span>/500 —Å–∏–º–≤–æ–ª–æ–≤
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º
                    </button>
                    <button type="reset" class="btn btn-secondary">
                        <i class="fas fa-redo"></i> –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
                    </button>
                    <a href="/" class="btn">
                        <i class="fas fa-times"></i> –û—Ç–º–µ–Ω–∞
                    </a>
                </div>
            </form>
            
            <!-- –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤ -->
            <div class="quick-add card">
                <h3><i class="fas fa-bolt"></i> –ë—ã—Å—Ç—Ä–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ</h3>
                <p>–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã —Ñ–∏–ª—å–º–æ–≤ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º:</p>
                <div class="quick-buttons">
                    <button type="button" class="btn btn-small" onclick="fillExample(1)">
                        <i class="fas fa-rocket"></i> –ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä
                    </button>
                    <button type="button" class="btn btn-small" onclick="fillExample(2)">
                        <i class="fas fa-mask"></i> –ù–∞—á–∞–ª–æ
                    </button>
                    <button type="button" class="btn btn-small" onclick="fillExample(3)">
                        <i class="fas fa-chess-king"></i> –ö–æ—Ä–æ–ª—å –õ–µ–≤
                    </button>
                    <button type="button" class="btn btn-small" onclick="fillExample(4)">
                        <i class="fas fa-ghost"></i> –ü–∞—Ä–∞–∑–∏—Ç—ã
                    </button>
                </div>
            </div>
            
            <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∏–ª—å–º–∞ -->
            <div class="preview-card card">
                <h3><i class="fas fa-eye"></i> –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</h3>
                <div id="moviePreview" class="movie-preview">
                    <p class="preview-placeholder">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–∏–ª—å–º–∞</p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <p>üé¨ Movie Collection &copy; 2024</p>
            <p>–§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–∏–ª—å–º–∞ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é</p>
        </div>
    </footer>

    <script>
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞
        function updateRatingDisplay(value) {
            document.getElementById('ratingValue').textContent = value;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–≤–µ–∑–¥—ã
            const stars = Math.round(value / 2);
            const starElements = document.querySelectorAll('.stars .fa-star');
            
            starElements.forEach((star, index) => {
                if (index < stars) {
                    star.style.color = 'var(--warning)';
                } else {
                    star.style.color = 'var(--text-muted)';
                }
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
            updatePreview();
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∂–∞–Ω—Ä–∞
        function toggleCustomGenre() {
            const genreSelect = document.getElementById('genre');
            const customGenre = document.getElementById('customGenre');
            const customBtn = document.querySelector('.genre-selector button');
            
            if (customGenre.style.display === 'none') {
                customGenre.style.display = 'block';
                genreSelect.style.display = 'none';
                customBtn.innerHTML = '<i class="fas fa-list"></i> –í—ã–±—Ä–∞—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞';
                customBtn.classList.add('btn-primary');
                customBtn.classList.remove('btn-secondary');
            } else {
                customGenre.style.display = 'none';
                genreSelect.style.display = 'block';
                customBtn.innerHTML = '<i class="fas fa-edit"></i> –°–≤–æ–π –∂–∞–Ω—Ä';
                customBtn.classList.remove('btn-primary');
                customBtn.classList.add('btn-secondary');
            }
            updatePreview();
        }
        
        // –ü–æ–¥—Å—á–µ—Ç —Å–∏–º–≤–æ–ª–æ–≤ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
        document.getElementById('description').addEventListener('input', function(e) {
            const count = e.target.value.length;
            document.getElementById('charCount').textContent = count;
            
            if (count > 500) {
                document.getElementById('charCount').style.color = 'var(--danger)';
            } else if (count > 400) {
                document.getElementById('charCount').style.color = 'var(--warning)';
            } else {
                document.getElementById('charCount').style.color = 'var(--success)';
            }
            
            updatePreview();
        });
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
        function updatePreview() {
            const form = document.getElementById('movieForm');
            const preview = document.getElementById('moviePreview');
            
            const title = document.getElementById('title').value || '–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞';
            const director = document.getElementById('director').value || '–†–µ–∂–∏—Å—Å–µ—Ä';
            const year = document.getElementById('year').value || '2024';
            const rating = document.getElementById('rating').value || '7.5';
            
            let genre;
            if (document.getElementById('customGenre').style.display === 'block') {
                genre = document.getElementById('customGenre').value || '–ñ–∞–Ω—Ä';
            } else {
                genre = document.getElementById('genre').value || '–ñ–∞–Ω—Ä';
            }
            
            const description = document.getElementById('description').value || 
                '–û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...';
            
            preview.innerHTML = `
                <div class="movie-item">
                    <div class="movie-header">
                        <div class="movie-title">${title}</div>
                        <div class="movie-meta">
                            <span class="year"><i class="fas fa-calendar"></i> ${year}</span>
                            <span class="rating"><i class="fas fa-star"></i> ${rating}/10</span>
                            <span class="director"><i class="fas fa-user-tie"></i> ${director}</span>
                        </div>
                        <div class="genre">${genre}</div>
                    </div>
                    <div class="movie-body">
                        <div class="movie-description">${description}</div>
                    </div>
                </div>
            `;
        }
        
        // –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞–º–∏
        const examples = {
            1: {
                title: "–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä",
                director: "–ö—Ä–∏—Å—Ç–æ—Ñ–µ—Ä –ù–æ–ª–∞–Ω",
                year: "2014",
                rating: "8.6",
                genre: "–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞",
                description: "–ö–æ–≥–¥–∞ –∑–∞—Å—É—Ö–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–æ –∫ –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∫—Ä–∏–∑–∏—Å—É, –∫–æ–ª–ª–µ–∫—Ç–∏–≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π –∏ —É—á—ë–Ω—ã—Ö –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–∫–≤–æ–∑—å —á–µ—Ä–≤–æ—Ç–æ—á–∏–Ω—É –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ, —á—Ç–æ–±—ã –ø—Ä–µ–≤–∑–æ–π—Ç–∏ –ø—Ä–µ–∂–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π —á–µ–ª–æ–≤–µ–∫–∞ –∏ –Ω–∞–π—Ç–∏ –ø–ª–∞–Ω–µ—Ç—É —Å –ø–æ–¥—Ö–æ–¥—è—â–∏–º–∏ –¥–ª—è —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞ —É—Å–ª–æ–≤–∏—è–º–∏."
            },
            2: {
                title: "–ù–∞—á–∞–ª–æ",
                director: "–ö—Ä–∏—Å—Ç–æ—Ñ–µ—Ä –ù–æ–ª–∞–Ω",
                year: "2010",
                rating: "8.8",
                genre: "–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞",
                description: "–ö–æ–±–± ‚Äî —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã–π –≤–æ—Ä, –ª—É—á—à–∏–π –∏–∑ –ª—É—á—à–∏—Ö –≤ –æ–ø–∞—Å–Ω–æ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è: –æ–Ω –∫—Ä–∞–¥–µ—Ç —Ü–µ–Ω–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ –≥–ª—É–±–∏–Ω –ø–æ–¥—Å–æ–∑–Ω–∞–Ω–∏—è –≤–æ –≤—Ä–µ–º—è —Å–Ω–∞, –∫–æ–≥–¥–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ä–∞–∑—É–º –Ω–∞–∏–±–æ–ª–µ–µ —É—è–∑–≤–∏–º."
            },
            3: {
                title: "–ö–æ—Ä–æ–ª—å –õ–µ–≤",
                director: "–†–æ–¥–∂–µ—Ä –ê–ª–ª–µ—Ä—Å, –†–æ–± –ú–∏–Ω–∫–æ—Ñ—Ñ",
                year: "1994",
                rating: "8.5",
                genre: "–ê–Ω–∏–º–∞—Ü–∏—è",
                description: "–ú–æ–ª–æ–¥–æ–π –ª–µ–≤ –°–∏–º–±–∞ –ø—Ä–µ–¥–∞—Ç–µ–ª—å—Å–∫–∏ –∏–∑–≥–Ω–∞–Ω –∏–∑ —Å–≤–æ–µ–≥–æ –ø—Ä–∞–π–¥–∞ —Å–≤–æ–∏–º –¥—è–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä—è–≤–∏–ª —Å–µ–±—è –∫–æ—Ä–æ–ª—ë–º. –ï–º—É –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –ø—Ä–æ–π—Ç–∏ –ø—É—Ç—å –≤–∑—Ä–æ—Å–ª–µ–Ω–∏—è, –Ω–∞–π—Ç–∏ –≤–µ—Ä–Ω—ã—Ö –¥—Ä—É–∑–µ–π –∏ –æ—Ç–≤–æ–µ–≤–∞—Ç—å —Å–≤–æ—ë –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ."
            },
            4: {
                title: "–ü–∞—Ä–∞–∑–∏—Ç—ã",
                director: "–ü–æ–Ω –ß–∂—É–Ω –•–æ",
                year: "2019",
                rating: "8.6",
                genre: "–î—Ä–∞–º–∞",
                description: "–ë–µ–¥–Ω–∞—è –∫–æ—Ä–µ–π—Å–∫–∞—è —Å–µ–º—å—è –≤–Ω–µ–¥—Ä—è–µ—Ç—Å—è –≤ –∂–∏–∑–Ω—å –±–æ–≥–∞—Ç–æ–π, –≤—ã–¥–∞–≤–∞—è —Å–µ–±—è –∑–∞ –≤—ã—Å–æ–∫–æ–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤. –ò–≥—Ä–∞ –≤ –∫–æ—à–∫–∏-–º—ã—à–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º–∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º–∏."
            }
        };
        
        function fillExample(num) {
            const example = examples[num];
            document.getElementById('title').value = example.title;
            document.getElementById('director').value = example.director;
            document.getElementById('year').value = example.year;
            document.getElementById('rating').value = example.rating;
            document.getElementById('genre').value = example.genre;
            document.getElementById('description').value = example.description;
            
            updateRatingDisplay(example.rating);
            updatePreview();
            
            showMessage('–ü—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω! –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º".', 'info');
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã
        document.getElementById('movieForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = {
                title: document.getElementById('title').value,
                director: document.getElementById('director').value,
                year: document.getElementById('year').value,
                rating: document.getElementById('rating').value,
                genre: document.getElementById('genre').style.display === 'none' ? 
                       document.getElementById('customGenre').value : 
                       document.getElementById('genre').value,
                description: document.getElementById('description').value
            };
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (!formData.title.trim()) {
                showMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞', 'error');
                return;
            }
            
            if (!formData.director.trim()) {
                showMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∏–º—è —Ä–µ–∂–∏—Å—Å–µ—Ä–∞', 'error');
                return;
            }
            
            if (!formData.genre.trim()) {
                showMessage('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –∂–∞–Ω—Ä', 'error');
                return;
            }
            
            try {
                const response = await fetch('/api/movies', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json; charset=utf-8'
                    },
                    body: JSON.stringify(formData)
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    showMessage(`–§–∏–ª—å–º "${formData.title}" —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!`, 'success');
                    document.getElementById('movieForm').reset();
                    updatePreview();
                    updateRatingDisplay(7.5);
                } else {
                    showMessage(`–û—à–∏–±–∫–∞: ${result.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`, 'error');
                }
            } catch (error) {
                showMessage('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.', 'error');
            }
        });
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        function showMessage(text, type) {
            const messageEl = document.getElementById('message');
            messageEl.textContent = text;
            messageEl.className = `alert alert-${type}`;
            messageEl.style.display = 'block';
            
            setTimeout(() => {
                messageEl.style.display = 'none';
            }, 5000);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ –≤—Å–µ –ø–æ–ª—è –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
            const inputs = document.querySelectorAll('#movieForm input, #movieForm select, #movieForm textarea');
            inputs.forEach(input => {
                input.addEventListener('input', updatePreview);
                input.addEventListener('change', updatePreview);
            });
            
            updateRatingDisplay(7.5);
            updatePreview();
        });
    </script>
    
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ñ–æ—Ä–º—ã */
        .form-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }
        
        .form-hint {
            color: var(--text-muted);
            font-size: 0.85rem;
            margin-top: 5px;
            display: block;
        }
        
        .rating-input {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
        }
        
        .rating-input input[type="range"] {
            flex: 1;
        }
        
        .rating-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 80px;
        }
        
        .rating-display .stars {
            font-size: 0.9rem;
            color: var(--text-muted);
        }
        
        .genre-selector {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .genre-selector select,
        .genre-selector input {
            flex: 1;
        }
        
        .btn-small {
            padding: 8px 15px;
            font-size: 0.9rem;
            white-space: nowrap;
        }
        
        .char-count {
            text-align: right;
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-top: 5px;
        }
        
        .form-actions {
            display: flex;
            gap: 10px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .quick-add {
            margin-top: 30px;
        }
        
        .quick-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        .preview-card {
            margin-top: 30px;
        }
        
        .preview-placeholder {
            color: var(--text-muted);
            text-align: center;
            padding: 20px;
            font-style: italic;
        }
        
        .movie-preview {
            min-height: 150px;
        }
    </style>
</body>
</html>