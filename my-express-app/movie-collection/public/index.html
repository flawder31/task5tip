<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé¨ Movie Collection - –ì–ª–∞–≤–Ω–∞—è</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üé¨</text></svg>">
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-film"></i>
                <span>Movie Collection</span>
            </div>
            <div class="nav-links">
                <a href="/" class="nav-link active">
                    <i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è
                </a>
                <a href="/add" class="nav-link">
                    <i class="fas fa-plus-circle"></i> –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º
                </a>
                <a href="/api/movies" class="nav-link" target="_blank">
                    <i class="fas fa-code"></i> API
                </a>
                <a href="/api" class="nav-link" target="_blank">
                    <i class="fas fa-book"></i> –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
                </a>
            </div>
        </div>
    </nav>

    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
        <header class="hero">
            <h1>üé¨ –ö–æ–ª–ª–µ–∫—Ü–∏—è —Ñ–∏–ª—å–º–æ–≤</h1>
            <p class="subtitle">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤–∞—à–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π —Ñ–∏–ª—å–º–æ–≤ –≤ —Å—Ç–∏–ª—å–Ω–æ–º —Ç–µ–º–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ</p>
            
            <div class="hero-actions">
                <a href="/add" class="btn btn-primary">
                    <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º
                </a>
                <a href="#movies" class="btn btn-secondary">
                    <i class="fas fa-list"></i> –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ
                </a>
                <button onclick="loadMovies()" class="btn btn-primary">
                    <i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–∏—Ç—å
                </button>
            </div>
        </header>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <section class="stats-section card fade-in">
            <h2><i class="fas fa-chart-bar"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <div class="stats-grid" id="stats">
                <div class="stat-card">
                    <i class="fas fa-film fa-2x"></i>
                    <div class="stat-value" id="total-movies">0</div>
                    <div class="stat-label">–í—Å–µ–≥–æ —Ñ–∏–ª—å–º–æ–≤</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-star fa-2x"></i>
                    <div class="stat-value" id="avg-rating">0.0</div>
                    <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-calendar fa-2x"></i>
                    <div class="stat-value" id="latest-year">2024</div>
                    <div class="stat-label">–ü–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥</div>
                </div>
                <div class="stat-card">
                    <i class="fas fa-tags fa-2x"></i>
                    <div class="stat-value" id="total-genres">0</div>
                    <div class="stat-label">–ñ–∞–Ω—Ä—ã</div>
                </div>
            </div>
        </section>

        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <section class="filters-section card fade-in">
            <h2><i class="fas fa-filter"></i> –§–∏–ª—å—Ç—Ä—ã</h2>
            <div class="filters">
                <div class="form-group">
                    <label for="genre-filter"><i class="fas fa-theater-masks"></i> –ñ–∞–Ω—Ä</label>
                    <select id="genre-filter" onchange="filterMovies()">
                        <option value="">–í—Å–µ –∂–∞–Ω—Ä—ã</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="year-filter"><i class="fas fa-calendar-alt"></i> –ì–æ–¥</label>
                    <select id="year-filter" onchange="filterMovies()">
                        <option value="">–í—Å–µ –≥–æ–¥—ã</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="rating-filter"><i class="fas fa-star"></i> –ú–∏–Ω. —Ä–µ–π—Ç–∏–Ω–≥</label>
                    <input type="range" id="rating-filter" min="0" max="10" step="0.5" value="0" 
                           oninput="updateRatingValue(this.value)" onchange="filterMovies()">
                    <span id="rating-value">0+</span>
                </div>
                <div class="form-group">
                    <label for="sort-filter"><i class="fas fa-sort"></i> –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</label>
                    <select id="sort-filter" onchange="filterMovies()">
                        <option value="title">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (–ê-–Ø)</option>
                        <option value="year-desc">–ü–æ –≥–æ–¥—É (–Ω–æ–≤—ã–µ)</option>
                        <option value="year-asc">–ü–æ –≥–æ–¥—É (—Å—Ç–∞—Ä—ã–µ)</option>
                        <option value="rating-desc">–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É (–≤—ã—Å–æ–∫–∏–π)</option>
                        <option value="rating-asc">–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É (–Ω–∏–∑–∫–∏–π)</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- –°–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤ -->
        <section id="movies" class="movies-section fade-in">
            <h2><i class="fas fa-list-ul"></i> –í—Å–µ —Ñ–∏–ª—å–º—ã</h2>
            <div id="movies-container" class="movie-grid">
                <!-- –§–∏–ª—å–º—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </div>
            <div id="loading" class="loading">
                <i class="fas fa-spinner fa-spin fa-3x"></i>
                <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∏–ª—å–º–æ–≤...</p>
            </div>
            <div id="no-movies" class="no-movies" style="display: none;">
                <div class="card" style="text-align: center; padding: 3rem;">
                    <i class="fas fa-film fa-4x" style="color: var(--text-muted); margin-bottom: 1rem;"></i>
                    <h3>–§–∏–ª—å–º–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</h3>
                    <p>–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π —Ñ–∏–ª—å–º –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é!</p>
                    <a href="/add" class="btn btn-primary" style="margin-top: 1rem;">
                        <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å–º
                    </a>
                </div>
            </div>
        </section>

        <!-- API –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <section class="api-section card fade-in">
            <h2><i class="fas fa-code"></i> API Endpoints</h2>
            <div class="endpoints">
                <div class="endpoint">
                    <span class="method get">GET</span>
                    <span class="endpoint-url">/api/movies</span>
                    <p class="endpoint-desc">–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ñ–∏–ª—å–º—ã (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)</p>
                </div>
                <div class="endpoint">
                    <span class="method post">POST</span>
                    <span class="endpoint-url">/api/movies</span>
                    <p class="endpoint-desc">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ñ–∏–ª—å–º</p>
                </div>
                <div class="endpoint">
                    <span class="method get">GET</span>
                    <span class="endpoint-url">/api/movies/{id}</span>
                    <p class="endpoint-desc">–ü–æ–ª—É—á–∏—Ç—å —Ñ–∏–ª—å–º –ø–æ ID</p>
                </div>
                <div class="endpoint">
                    <span class="method put">PUT</span>
                    <span class="endpoint-url">/api/movies/{id}</span>
                    <p class="endpoint-desc">–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∏–ª—å–º</p>
                </div>
                <div class="endpoint">
                    <span class="method delete">DELETE</span>
                    <span class="endpoint-url">/api/movies/{id}</span>
                    <p class="endpoint-desc">–£–¥–∞–ª–∏—Ç—å —Ñ–∏–ª—å–º</p>
                </div>
            </div>
        </section>
    </div>

    <!-- –§—É—Ç–µ—Ä -->
    <footer>
        <div class="footer-content">
            <p>üé¨ Movie Collection &copy; 2024 - Express.js —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç</p>
            <p>–°–¥–µ–ª–∞–Ω–æ —Å <i class="fas fa-heart" style="color: var(--danger);"></i> –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è Express.js</p>
            <div class="footer-links">
                <a href="/api" target="_blank">API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a> ‚Ä¢
                <a href="https://expressjs.com" target="_blank">Express.js</a> ‚Ä¢
                <a href="https://nodejs.org" target="_blank">Node.js</a>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="/script.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            loadStats();
            loadMovies();
            populateFilters();
        });
    </script>
</body>
</html>